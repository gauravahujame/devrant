<!--
  Generated template for the RantDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar class="app_navbar" color="primary">
    <ion-title class="navtitle">Rant</ion-title>
  </ion-navbar>

</ion-header>


<ion-content style="background-color: #f5f5f5;">
  <ion-spinner name="bubbles" class="loading_spinner" *ngIf="showSpinner" color="primary"></ion-spinner>
    
    <rant-component no-margin *ngIf="rant?.rant" [rant]="rant?.rant" [showButtons]="false" [disableNavigation]="true"></rant-component> 

    <ion-list>
      <ion-list-header no-margin color="primary" *ngIf="rant?.rant">
          Comments ({{rant?.comments.length}})
      </ion-list-header>
      <ion-item *ngFor="let comment of rant?.comments" text-wrap>
            <ion-avatar item-left (click)="showUserProfile(rant?.rant.user_id)">
              <img src="https://avatars.devrant.io/{{comment.user_avatar.i}}" class="rant_avatar" onerror="this.src='assets/img/default_avatar.png';">
            </ion-avatar>
            <div class="rant_username">@{{comment.user_username}} &nbsp;&nbsp;
              <span class="rant_date">{{comment.created_time | timestampDate | date:"MMMM, dd"}}</span>
            </div>
            <div class="rant_comment">{{comment.body}}</div>
      </ion-item>
    </ion-list>
</ion-content>

<!--<form id="footer-input" ng-submit="add(message)">
  <ion-footer class="item-input-inset">

    <label class="item-input-wrapper">
      <i class="icon ion-ios7-search placeholder-icon"></i>
      <input type="text" placeholder="Message" ng-model="message">
    </label>
    <a class="button button-clear" ng-click="takePicture()">
      <i class="icon ion-camera"></i>
    </a>
  </ion-footer>
		</form>
-->